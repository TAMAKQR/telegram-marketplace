# Изменения в системе откликов

## Что изменилось:

### ДО:
- Инфлюенсер мог откликнуться на любое задание
- Инфлюенсер предлагал свою цену при отклике
- Заказчик выбирал из откликов кто подходит

### ПОСЛЕ:
- Заказчик указывает требования:
  - Минимум подписчиков
  - Минимальная вовлеченность (Engagement Rate, %)
- Инфлюенсер может откликнуться ТОЛЬКО если соответствует критериям
- Автоматическая проверка при попытке отклика
- Оплата всегда равна бюджету задания (без торга)

## Измененные файлы:

1. **src/pages/CreateTask.jsx**
   - Добавлено поле minEngagementRate в форму
   - Оба критерия сохраняются в requirements

2. **src/pages/EditTask.jsx**
   - Добавлено поле minEngagementRate
   - Обновление логики requirements

3. **src/pages/TaskDetails.jsx**
   - Удалено поле proposed_price из формы отклика
   - Добавлена функция checkRequirements()
   - Автоматическая проверка соответствия критериям
   - Визуальная индикация (зеленая/красная) соответствия
   - Отключение кнопки "Отправить отклик" если не соответствует
   - Убрано отображение proposed_price в откликах
   - Оплата всегда = budget (без учета предложенной цены)

## Структура requirements в БД:

```json
{
  "minFollowers": 1000,
  "minEngagementRate": 2.5
}
```

## Логика проверки:

1. При загрузке деталей задания вызывается checkRequirements()
2. Загружается influencer_profile пользователя
3. Сравнивается:
   - followers_count >= requirements.minFollowers
   - engagement_rate >= requirements.minEngagementRate
4. Если не соответствует - показывается предупреждение и блокируется форма

## Результат:

- Инфлюенсеры видят только подходящие им задания
- Заказчики получают отклики только от подходящих инфлюенсеров
- Нет торга - фиксированная цена за задание
- Прозрачные критерии отбора
