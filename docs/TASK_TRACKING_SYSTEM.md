# –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –∑–∞–¥–∞–Ω–∏—è—Ö
–ó–∞–∫–∞–∑—á–∏–∫ –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å –∂–µ–ª–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
- **–ü—Ä–æ—Å–º–æ—Ç—Ä—ã** (views) - —Ü–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- **–õ–∞–π–∫–∏** (likes) - —Ü–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤  
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** (comments) - —Ü–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### 2. –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è

#### –î–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞:
1. –°–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ —Å —Ü–µ–ª–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ–¥–ª–∞–π–Ω
3. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞
4. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

#### –î–ª—è –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞:
1. –û—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ
2. –ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è - —Å–æ–∑–¥–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ Instagram
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é"
4. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏
5. –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–π - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ

**–¢–∞–±–ª–∏—Ü–∞ task_submissions:**
- –•—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é
- –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (views, likes, comments)
- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- –°—Ç–∞—Ç—É—Å (pending, in_progress, completed)

**–§—É–Ω–∫—Ü–∏—è update_submission_progress:**
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤—Å–µ—Ö —Ü–µ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏ –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä—É

### 4. –°—Ç—Ä–∞–Ω–∏—Ü—ã

#### CreateTask.jsx - –û–±–Ω–æ–≤–ª–µ–Ω–æ
- –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ "üéØ –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏"
- –ü–æ–ª—è –¥–ª—è –≤–≤–æ–¥–∞ target_views, target_likes, target_comments
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

#### SubmitTaskPost.jsx - –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –§–æ—Ä–º–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ Instagram –ø—É–±–ª–∏–∫–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å—Å—ã–ª–∫–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
- –ü–æ–∫–∞–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞

#### TaskDetails.jsx - –û–±–Ω–æ–≤–ª–µ–Ω–æ
- –ö–Ω–æ–ø–∫–∞ "üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é" –¥–ª—è –ø—Ä–∏–Ω—è—Ç—ã—Ö –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è in_progress

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –≤ Supabase
–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```sql
d:\TelegramWebApp\supabase\task_tracking.sql
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- –ö–æ–ª–æ–Ω–∫—É `target_metrics` –≤ —Ç–∞–±–ª–∏—Ü–µ `tasks`
- –¢–∞–±–ª–∏—Ü—É `task_submissions`
- –§—É–Ω–∫—Ü–∏—é `update_submission_progress`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
–°–æ–∑–¥–∞–π—Ç–µ Supabase Edge Function –∏–ª–∏ cron job –∫–æ—Ç–æ—Ä—ã–π:
1. –í—ã–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å–∞–±–º–∏—à–µ–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 'in_progress'
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—É—á–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ Instagram API
3. –í—ã–∑—ã–≤–∞–µ—Ç `update_submission_progress()` —Å –Ω–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

**–í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è –∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞ "–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É" –∫–æ—Ç–æ—Ä–∞—è:
1. –ü–æ–ª—É—á–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –®–∞–≥ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Instagram API

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```javascript
// –ü—Ä–∏–º–µ—Ä –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ Instagram Graph API
const getPostMetrics = async (mediaId, accessToken) => {
    const response = await fetch(
        `https://graph.facebook.com/v18.0/${mediaId}?fields=like_count,comments_count,insights.metric(impressions)&access_token=${accessToken}`
    )
    const data = await response.json()
    
    return {
        likes: data.like_count,
        comments: data.comments_count,
        views: data.insights?.data[0]?.values[0]?.value || 0
    }
}
```

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. **–ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ:**
```
–ù–∞–∑–≤–∞–Ω–∏–µ: –†–µ–∫–ª–∞–º–∞ –æ—Ç–µ–ª—è
–ë—é–¥–∂–µ—Ç: 50000 —Å–æ–º
–¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: 100000
  - –õ–∞–π–∫–∏: 5000
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: 500
–î–µ–¥–ª–∞–π–Ω: 2026-02-01
```

2. **–ò–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è**

3. **–ò–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä –ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É:**
```
https://www.instagram.com/p/ABC123/
```

4. **–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å:**
```
–ü—Ä–æ—Å–º–æ—Ç—Ä—ã: 45000 / 100000 (45%)
–õ–∞–π–∫–∏: 3500 / 5000 (70%)
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: 250 / 500 (50%)
–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 55%
```

5. **–ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤—Å–µ—Ö —Ü–µ–ª–µ–π:**
- –ó–∞–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ç—É—Å 'completed'
- –ò–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç 50000 —Å–æ–º –Ω–∞ –±–∞–ª–∞–Ω—Å
- –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è

## –§–∞–π–ª—ã:
- `supabase/task_tracking.sql` - SQL —Å—Ö–µ–º–∞
- `src/pages/CreateTask.jsx` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ü–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `src/pages/SubmitTaskPost.jsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `src/pages/TaskDetails.jsx` - –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `src/App.jsx` - –Ω–æ–≤—ã–π —Ä–æ—É—Ç

## TODO:
- [ ] –°–æ–∑–¥–∞—Ç—å Edge Function –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ TaskDetails
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–ª–∏—Ç—å –¥–µ–¥–ª–∞–π–Ω
